SMTPF 2.2 RELEASE NOTES
-----------------------

With the release of smtpf 2.2, comes many improvements. Below are the
principal highlights concerning new options and significant changes:


* Attachment Reject Policies

Using simple file name patterns, deny attachments based on attachment
name, content-type, and/or file names found in .zip and .rar compressed
archives:

	deny-content
	deny-content-type
	deny-compressed-name


* Digest DNS Blacklist Support

An MD5 hash of the message body is generated and checked against one or
more digest blacklists. Inspired by http://www.team-cymru.org/Services/MHR/

	digest-bl


* Enhanced Message-ID for Email Watermark (EMEW) Version 2

It is now possible to specify different EMEW secrets by individual
sender, sender domain, or sender account for outbound tagging and
validation of of inbound non-delivery reports or content white listing
of replies. This allows an ISP to apply EMEW only for those domains
known to use the ISP outbound mail servers exclusively and exclude those
domains that might use a mixed model. A new emew: access-map tag has
been added.


* New access-map action words.

	IREJECT		immediate REJECT, ignore smtp-delay-checks;

	SAVE		save a copy of message, if delivered, for
			debugging or archiving

	TRAP		accept and save message to a trap-dir, but do
			not deliver; intended for spam trapping and learning

	TAG		Instead of rejecting a message for policy
			reasons, simply tag the subject header, add a
			X-spam-reason: header and by-pass the remaining
			tests.

	TEMPFAIL	report a temporary failure condition


* SMTP Cache Manipulation Commands

	CACHE GET key
	CACHE PUT key value
	CACHE DELETE key


* Sophos Anti-virus support

	savdid-socket
	savdid-timeout
	savdid-policy


* STAT command output changed

The output from STAT RUNTIME, STAT HOURLY, and STAT WINDOW commands
have been merged into a single STAT command that provides the merged
output of the three previous commands.


* Statistics data collection

It is now possible to have BarricadeMX send the STAT output to a central
server for collection, processing, and/or archiving. New option is:

	stats-http-post
	stats-http-user
	stats-http-pass


* Time limited recipient addresses

BarricadeMX power users can now specify as part of their email address a
time limit field that limits the validity of the supplied address.
Intended for use by users who want to supply short lived address to
questionable web sites registration forms and/or mailing lists. See

	time-limit-delimiters


* New ClamAV for attachments only scanning.

Added clamd-scan-all option, which defaults to on. When disabled, only
scan messages with attachments.


* New DNS BL option

Parse and check select message headers for IP addresses to be checked
against one or more DNS BL:

	dns-bl-headers (experimental)


* Options to rename or disable certain extension headers

	grey-report-header
	p0f-report-header
	smtpf-report-header
	spamd-flag-header
	spamd-level-header
	spamd-report-header
	spamd-status-header


* New call-back options

	call-back-strict-greeting
 	call-back-uri-greeting


* New URI BL options.

	uri-bl-headers (experimental)
	uri-sub-domains (restored)
	uri-cite-list

	ns-bl
	ns-sub-domains (experimental)


* RFC 1652 8BITMIME

Added simple pass-through 8bit support only. smtpf will not do 8bit
to 7bit conversion when forwarding a message.

	rfc1652-8bitmime


* RFC 1870 SIZE Support

Added support for SMTP SIZE parameter extension. Used in conjunction
with the existing access-map size limitation tags length-connect:,
length-from:, and length-to:. When the SIZE parameter is specified, then
this allows for rejection based on SIZE at RCPT time instead of have to
read the message and reject at dot.


* BarricdeMX for Windows & Mac OS X Beta testers wanted.

The native Windows version of BarricadeMX is now in beta testing. Please
contact Fort Systems Ltd. (www.fsl.com) if you are interested in
participating in the beta test phase due to start soon.

BarricadeMX will soon begin testing for Mac OS X and we are also
interested in finding interested parties this platform.

